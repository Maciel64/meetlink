{% extends '_base.html' %}

{% block title %}Dashboard{% endblock %}

{% load static %}

{% block main %}

<h1 class="mb-5">Entrar em chamada - {{ user.get_role_display }}</h1>

<a class="p-12 rounded-3 btn btn-primary" data-js="manager-enter-call-button" href="{{ call_uri }}" target="_blank">
    Entrar na chamada
</a>

<!-- <div id="meet" style="height: 600px; width: 100%;"></div>

<script src="https://meet.jit.si/external_api.js"></script>

<script>
    const domain = "meet.jit.si";
    const options = {
        roomName: "MinhaSalaPersonalizada", // Nome único para a sala
        width: "100%",
        height: 600,
        parentNode: document.getElementById("meet"), // Div onde o Jitsi será renderizado
        configOverwrite: {
            startWithAudioMuted: true,
            startWithVideoMuted: true,
        },
        interfaceConfigOverwrite: {
            SHOW_JITSI_WATERMARK: false, // Remove marca d'água do Jitsi
            DEFAULT_BACKGROUND: "#f0f0f0", // Cor de fundo padrão
        },
    };
    const api = new JitsiMeetExternalAPI(domain, options);

    api.addEventListener("participantJoined", (event) => {
        console.log("Participante entrou:", event);
    });

    api.addEventListener("videoConferenceLeft", () => {
        console.log("A conferência foi encerrada.");
    });
</script> -->

{% endblock %}